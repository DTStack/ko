"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[288],{734:function(e,r,o){o.d(r,{Zo:function(){return p},kt:function(){return d}});var t=o(2435);function n(e,r,o){return r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}function a(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),o.push.apply(o,t)}return o}function i(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?a(Object(o),!0).forEach((function(r){n(e,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}function s(e,r){if(null==e)return{};var o,t,n=function(e,r){if(null==e)return{};var o,t,n={},a=Object.keys(e);for(t=0;t<a.length;t++)o=a[t],r.indexOf(o)>=0||(n[o]=e[o]);return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)o=a[t],r.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var l=t.createContext({}),c=function(e){var r=t.useContext(l),o=r;return e&&(o="function"==typeof e?e(r):i(i({},r),e)),o},p=function(e){var r=c(e.components);return t.createElement(l.Provider,{value:r},e.children)},u={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},f=t.forwardRef((function(e,r){var o=e.components,n=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),f=c(o),d=n,m=f["".concat(l,".").concat(d)]||f[d]||u[d]||a;return o?t.createElement(m,i(i({ref:r},p),{},{components:o})):t.createElement(m,i({ref:r},p))}));function d(e,r){var o=arguments,n=r&&r.mdxType;if("string"==typeof e||n){var a=o.length,i=new Array(a);i[0]=f;var s={};for(var l in r)hasOwnProperty.call(r,l)&&(s[l]=r[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var c=2;c<a;c++)i[c]=o[c];return t.createElement.apply(null,i)}return t.createElement.apply(null,o)}f.displayName="MDXCreateElement"},6200:function(e,r,o){o.r(r),o.d(r,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},assets:function(){return p},toc:function(){return u},default:function(){return d}});var t=o(7180),n=o(5317),a=(o(2435),o(734)),i=["components"],s={sidebar_position:4,title:"FAQ"},l=void 0,c={unversionedId:"FAQ",id:"FAQ",title:"FAQ",description:"How to override webpack configs",source:"@site/docs/FAQ.md",sourceDirName:".",slug:"/FAQ",permalink:"/ko/docs/FAQ",editUrl:"https://github.com/DTStack/ko/website/docs/FAQ.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"FAQ"},sidebar:"tutorialSidebar",previous:{title:"ko stylelint",permalink:"/ko/docs/cli/ko-stylelint"},next:{title:"Architecture",permalink:"/ko/docs/advanced/architecture"}},p={},u=[{value:"How to override webpack configs",id:"how-to-override-webpack-configs",level:2},{value:"How to polyfill Node.js core modules:",id:"how-to-polyfill-nodejs-core-modules",level:2},{value:"Install browserify packages:",id:"install-browserify-packages",level:3},{value:"Add configs into <strong>ko.config.js</strong>:",id:"add-configs-into-koconfigjs",level:3},{value:"How to use web workers",id:"how-to-use-web-workers",level:2}],f={toc:u};function d(e){var r=e.components,o=(0,n.Z)(e,i);return(0,a.kt)("wrapper",(0,t.Z)({},f,o,{components:r,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"how-to-override-webpack-configs"},"How to override webpack configs"),(0,a.kt)("p",null,"You can override webpack configs via ",(0,a.kt)("strong",{parentName:"p"},"ko.config.js"),", and we recommend you override ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/webpack-contrib/copy-webpack-plugin"},"copy-webpack-plugin"),",",(0,a.kt)("a",{parentName:"p",href:"https://github.com/jantimon/html-webpack-plugin"},"html-webpack-plugin")," if needed. You can override like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const CopyWebpackPlugin = require('copy-webpack-plugin');\n\nconst copyConfig = [\n  { from: path.resolve(__dirname, 'public/config'), to: 'config' },\n  { from: path.resolve(__dirname, 'public/assets'), to: 'assets' },\n]\n\nmodule.exports = {\n  ... //other webpack configs\n  plugins: [\n    new CopyWebpackPlugin(copyConfig),\n  ],\n};\n\n")),(0,a.kt)("h2",{id:"how-to-polyfill-nodejs-core-modules"},"How to polyfill Node.js core modules:"),(0,a.kt)("p",null,"Webpack 5 no longer polyfills Node.js core modules automatically which means if you use them in your code running in browsers or alike, you will have to install compatible modules from npm and include them yourself. And if your target environment is browser, just install some packages and add ",(0,a.kt)("strong",{parentName:"p"},"resolve.fallback")," into ",(0,a.kt)("strong",{parentName:"p"},"ko.config.js"),"."),(0,a.kt)("h3",{id:"install-browserify-packages"},"Install browserify packages:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"pnpm add os-browserify crypto-browserify stream-browserify\n")),(0,a.kt)("h3",{id:"add-configs-into-koconfigjs"},"Add configs into ",(0,a.kt)("strong",{parentName:"h3"},"ko.config.js"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  ... //other webpack configs\n   resolve: {\n    fallback: {\n      fs: false,\n      path: false,\n      events: false,\n      os: require.resolve('os-browserify/browser'),\n      crypto: require.resolve('crypto-browserify'),\n      stream: require.resolve('stream-browserify'),\n    },\n  }\n};\n")),(0,a.kt)("h2",{id:"how-to-use-web-workers"},"How to use web workers"),(0,a.kt)("p",null,"You can use ",(0,a.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers"},"Web Workers")," without ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/webpack-contrib/worker-loader"},"worker-loader")," in ko, just like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"new Worker(new URL('./worker.js', import.meta.url));\n")),(0,a.kt)("p",null,"And you should update your project ",(0,a.kt)("strong",{parentName:"p"},"tsconfig.json")," into these configs:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'"compilerOptions": {         \n  "module": "esnext",         \n  "moduleResolution": "Node"   \n} \n')))}d.isMDXComponent=!0}}]);